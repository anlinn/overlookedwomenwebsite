{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\annal\\\\PycharmProjects\\\\src\\\\components\\\\Draggable.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Draggable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      relX: 0,\n      relY: 0,\n      x: props.x,\n      y: props.y\n    };\n    this.gridX = props.gridX || 1;\n    this.gridY = props.gridY || 1;\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n  }\n\n  onStart(e) {\n    const ref = ReactDOM.findDOMNode(this.handle);\n    const body = document.body;\n    const box = ref.getBoundingClientRect();\n    this.setState({\n      relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\n      relY: e.pageY - (box.top + body.scrollTop - body.clientTop)\n    });\n  }\n\n  onMove(e) {\n    const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\n    const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\n\n    if (x !== this.state.x || y !== this.state.y) {\n      this.setState({\n        x,\n        y\n      });\n      this.props.onMove && this.props.onMove(this.state.x, this.state.y);\n    }\n  }\n\n  onMouseDown(e) {\n    if (e.button !== 0) return;\n    this.onStart(e);\n    document.addEventListener(\"mousemove\", this.onMouseMove);\n    document.addEventListener(\"mouseup\", this.onMouseUp);\n    e.preventDefault();\n  }\n\n  onMouseUp(e) {\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n    e.preventDefault();\n  }\n\n  onMouseMove(e) {\n    this.onMove(e);\n    e.preventDefault();\n  }\n\n  onTouchStart(e) {\n    this.onStart(e.touches[0]);\n    document.addEventListener(\"touchmove\", this.onTouchMove, {\n      passive: false\n    });\n    document.addEventListener(\"touchend\", this.onTouchEnd, {\n      passive: false\n    });\n    e.preventDefault();\n  }\n\n  onTouchMove(e) {\n    this.onMove(e.touches[0]);\n    e.preventDefault();\n  }\n\n  onTouchEnd(e) {\n    document.removeEventListener(\"touchmove\", this.onTouchMove);\n    document.removeEventListener(\"touchend\", this.onTouchEnd);\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\n    e.preventDefault();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onMouseDown: this.onMouseDown,\n      onTouchStart: this.onTouchStart,\n      style: {\n        position: \"absolute\",\n        left: this.state.x,\n        top: this.state.y,\n        touchAction: \"none\"\n      },\n      ref: div => {\n        this.handle = div;\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nDraggable.propTypes = {\n  onMove: PropTypes.func,\n  onStop: PropTypes.func,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  gridX: PropTypes.number,\n  gridY: PropTypes.number\n};\nexport default Draggable;","map":{"version":3,"names":["React","ReactDOM","PropTypes","Draggable","Component","constructor","props","state","relX","relY","x","y","gridX","gridY","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onStart","e","ref","findDOMNode","handle","body","document","box","getBoundingClientRect","setState","pageX","left","scrollLeft","clientLeft","pageY","top","scrollTop","clientTop","onMove","Math","trunc","button","addEventListener","preventDefault","removeEventListener","onStop","touches","passive","render","position","touchAction","div","children","propTypes","func","number","isRequired"],"sources":["C:/Users/annal/PycharmProjects/src/components/Draggable.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Draggable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      relX: 0,\r\n      relY: 0,\r\n      x: props.x,\r\n      y: props.y,\r\n    };\r\n    this.gridX = props.gridX || 1;\r\n    this.gridY = props.gridY || 1;\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n  }\r\n\r\n  static propTypes = {\r\n    onMove: PropTypes.func,\r\n    onStop: PropTypes.func,\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    gridX: PropTypes.number,\r\n    gridY: PropTypes.number,\r\n  };\r\n\r\n  onStart(e) {\r\n    const ref = ReactDOM.findDOMNode(this.handle);\r\n    const body = document.body;\r\n    const box = ref.getBoundingClientRect();\r\n    this.setState({\r\n      relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\r\n      relY: e.pageY - (box.top + body.scrollTop - body.clientTop),\r\n    });\r\n  }\r\n\r\n  onMove(e) {\r\n    const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\r\n    const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\r\n    if (x !== this.state.x || y !== this.state.y) {\r\n      this.setState({\r\n        x,\r\n        y,\r\n      });\r\n      this.props.onMove && this.props.onMove(this.state.x, this.state.y);\r\n    }\r\n  }\r\n\r\n  onMouseDown(e) {\r\n    if (e.button !== 0) return;\r\n    this.onStart(e);\r\n    document.addEventListener(\"mousemove\", this.onMouseMove);\r\n    document.addEventListener(\"mouseup\", this.onMouseUp);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onMouseUp(e) {\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onMouseMove(e) {\r\n    this.onMove(e);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchStart(e) {\r\n    this.onStart(e.touches[0]);\r\n    document.addEventListener(\"touchmove\", this.onTouchMove, {\r\n      passive: false,\r\n    });\r\n    document.addEventListener(\"touchend\", this.onTouchEnd, { passive: false });\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchMove(e) {\r\n    this.onMove(e.touches[0]);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchEnd(e) {\r\n    document.removeEventListener(\"touchmove\", this.onTouchMove);\r\n    document.removeEventListener(\"touchend\", this.onTouchEnd);\r\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\r\n    e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onMouseDown={this.onMouseDown}\r\n        onTouchStart={this.onTouchStart}\r\n        style={{\r\n          position: \"absolute\",\r\n          left: this.state.x,\r\n          top: this.state.y,\r\n          touchAction: \"none\",\r\n        }}\r\n        ref={(div) => {\r\n          this.handle = div;\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Draggable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}