{"ast":null,"code":"import _classCallCheck from\"C:/Users/annal/overlooked-woman-website-project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/annal/overlooked-woman-website-project/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/annal/overlooked-woman-website-project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/annal/overlooked-woman-website-project/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/annal/overlooked-woman-website-project/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import ReactDOM from\"react-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var Draggable=/*#__PURE__*/function(_React$Component){_inherits(Draggable,_React$Component);var _super=_createSuper(Draggable);function Draggable(props){var _this;_classCallCheck(this,Draggable);_this=_super.call(this,props);_this.state={relX:0,relY:0,x:props.x,y:props.y};_this.gridX=props.gridX||1;_this.gridY=props.gridY||1;_this.onMouseDown=_this.onMouseDown.bind(_assertThisInitialized(_this));_this.onMouseMove=_this.onMouseMove.bind(_assertThisInitialized(_this));_this.onMouseUp=_this.onMouseUp.bind(_assertThisInitialized(_this));_this.onTouchStart=_this.onTouchStart.bind(_assertThisInitialized(_this));_this.onTouchMove=_this.onTouchMove.bind(_assertThisInitialized(_this));_this.onTouchEnd=_this.onTouchEnd.bind(_assertThisInitialized(_this));return _this;}_createClass(Draggable,[{key:\"onStart\",value:function onStart(e){var ref=ReactDOM.findDOMNode(this.handle);var body=document.body;var box=ref.getBoundingClientRect();this.setState({relX:e.pageX-(box.left+body.scrollLeft-body.clientLeft),relY:e.pageY-(box.top+body.scrollTop-body.clientTop)});}},{key:\"onMove\",value:function onMove(e){var x=Math.trunc((e.pageX-this.state.relX)/this.gridX)*this.gridX;var y=Math.trunc((e.pageY-this.state.relY)/this.gridY)*this.gridY;//const x = Math.trunc(e.pageX);\n//const y = Math.trunc(e.pageY);\nif(x!==this.state.x||y!==this.state.y){this.setState({x:x,y:y});this.props.onMove&&this.props.onMove(this.state.x,this.state.y);}}},{key:\"onMouseDown\",value:function onMouseDown(e){if(e.button!==0)return;this.onStart(e);document.addEventListener(\"mousemove\",this.onMouseMove);document.addEventListener(\"mouseup\",this.onMouseUp);e.preventDefault();}},{key:\"onMouseUp\",value:function onMouseUp(e){document.removeEventListener(\"mousemove\",this.onMouseMove);document.removeEventListener(\"mouseup\",this.onMouseUp);this.props.onStop&&this.props.onStop(this.state.x,this.state.y);e.preventDefault();}},{key:\"onMouseMove\",value:function onMouseMove(e){this.onMove(e);e.preventDefault();}},{key:\"onTouchStart\",value:function onTouchStart(e){this.onStart(e.touches[0]);document.addEventListener(\"touchmove\",this.onTouchMove,{passive:false});document.addEventListener(\"touchend\",this.onTouchEnd,{passive:false});e.preventDefault();}},{key:\"onTouchMove\",value:function onTouchMove(e){this.onMove(e.touches[0]);e.preventDefault();}},{key:\"onTouchEnd\",value:function onTouchEnd(e){document.removeEventListener(\"touchmove\",this.onTouchMove);document.removeEventListener(\"touchend\",this.onTouchEnd);this.props.onStop&&this.props.onStop(this.state.x,this.state.y);e.preventDefault();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,style:{position:\"absolute\",left:this.state.x,top:this.state.y//touchAction: \"none\",\n},ref:function ref(div){_this2.handle=div;},children:this.props.children});}}]);return Draggable;}(React.Component);export default Draggable;","map":{"version":3,"names":["React","ReactDOM","Draggable","props","state","relX","relY","x","y","gridX","gridY","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","e","ref","findDOMNode","handle","body","document","box","getBoundingClientRect","setState","pageX","left","scrollLeft","clientLeft","pageY","top","scrollTop","clientTop","Math","trunc","onMove","button","onStart","addEventListener","preventDefault","removeEventListener","onStop","touches","passive","position","div","children","Component"],"sources":["C:/Users/annal/overlooked-woman-website-project/src/components/Draggable.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Draggable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      relX: 0,\r\n      relY: 0,\r\n      x: props.x,\r\n      y: props.y,\r\n    };\r\n    this.gridX = props.gridX || 1;\r\n    this.gridY = props.gridY || 1;\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n  }\r\n\r\n  static propTypes = {\r\n    onMove: PropTypes.func,\r\n    onStop: PropTypes.func,\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    gridX: PropTypes.number,\r\n    gridY: PropTypes.number,\r\n  };\r\n\r\n  onStart(e) {\r\n    const ref = ReactDOM.findDOMNode(this.handle);\r\n    const body = document.body;\r\n    const box = ref.getBoundingClientRect();\r\n    this.setState({\r\n      relX: e.pageX - (box.left + body.scrollLeft - body.clientLeft),\r\n      relY: e.pageY - (box.top + body.scrollTop - body.clientTop),\r\n    });\r\n  }\r\n\r\n  onMove(e) {\r\n    const x = Math.trunc((e.pageX - this.state.relX) / this.gridX) * this.gridX;\r\n    const y = Math.trunc((e.pageY - this.state.relY) / this.gridY) * this.gridY;\r\n    //const x = Math.trunc(e.pageX);\r\n    //const y = Math.trunc(e.pageY);\r\n\r\n    if (x !== this.state.x || y !== this.state.y) {\r\n      this.setState({\r\n        x,\r\n        y,\r\n      });\r\n      this.props.onMove && this.props.onMove(this.state.x, this.state.y);\r\n    }\r\n  }\r\n\r\n  onMouseDown(e) {\r\n    if (e.button !== 0) return;\r\n    this.onStart(e);\r\n    document.addEventListener(\"mousemove\", this.onMouseMove);\r\n    document.addEventListener(\"mouseup\", this.onMouseUp);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onMouseUp(e) {\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onMouseMove(e) {\r\n    this.onMove(e);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchStart(e) {\r\n    this.onStart(e.touches[0]);\r\n    document.addEventListener(\"touchmove\", this.onTouchMove, {\r\n      passive: false,\r\n    });\r\n    document.addEventListener(\"touchend\", this.onTouchEnd, { passive: false });\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchMove(e) {\r\n    this.onMove(e.touches[0]);\r\n    e.preventDefault();\r\n  }\r\n\r\n  onTouchEnd(e) {\r\n    document.removeEventListener(\"touchmove\", this.onTouchMove);\r\n    document.removeEventListener(\"touchend\", this.onTouchEnd);\r\n    this.props.onStop && this.props.onStop(this.state.x, this.state.y);\r\n    e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onMouseDown={this.onMouseDown}\r\n        onTouchStart={this.onTouchStart}\r\n        style={{\r\n          position: \"absolute\",\r\n          left: this.state.x,\r\n          top: this.state.y,\r\n          //touchAction: \"none\",\r\n        }}\r\n        ref={(div) => {\r\n          this.handle = div;\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Draggable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}